---
title: "midterm project team 5"
output: html_document
date: "2022-10-16"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = F, results = "markup", message = F)
options(scientific=T, digits = 3) 
```

install some packages or libraries
```{r}
library(ggplot2)
library(ezids)
library(dplyr)
```

## read data
Read the data .CSV files of adults arrest in DC area from 2016-2021
```{r }

df_2016<-data.frame(read.csv("Arrests 2016 Public.csv"))[,1:14]
df_2017<-data.frame(read.csv("Arrests 2017 Public.csv"))[,1:14]
df_2018<-data.frame(read.csv("Arrests by Year, 2018.csv"))[,1:14]
df_2019<-data.frame(read.csv("Arrests by Year, 2019.csv"))[,1:14]
df_2020<-data.frame(read.csv("Arrests by Year 2020.csv"))[,1:14]
df_2021<-data.frame(read.csv("2021 Adult Arrests.csv"))[,1:14]
```
Note that the colnames of df_2016 and df_2017 are not the same with others. But those indices are just about arrest location which is not what we are investigating. Therefore I just combined them by the same indices that we need. (A-N columns)
##Merge Multiple CSV Files
bind by rows

```{r}


DF<-rbind(df_2016,df_2017,df_2018,df_2019,df_2020,df_2021)
colnames(DF)
xkablesummary(DF)
```



```{r age vs year boxplot}
PADM = ggplot(DF, aes(group = factor(Arrest.Year), y = Age,x= Arrest.Year, fill = factor(Arrest.Year))) + 
  geom_boxplot() + 
  geom_boxplot(outlier.shape=8, outlier.size=5) +
  labs(title="Age VS Year", x="Year", y = "Age")
PADM

```

This plot is to compare the age of people who get arrested with each different year. From the plot, we can see that there are lots of outliers. We need to get rid of the outliers first.

```{r remove outliers}
Q1 = quantile(DF$Age, .25)
Q3 = quantile(DF$Age, .75)
IQR = IQR(DF$Age)

#only keep rows in dataframe that have values within 1.5*IQR of Q1 and Q3
ndf = subset(DF, DF$Age> (Q1 - 1.5*IQR) & DF$Age< (Q3 + 1.5*IQR))

#view row and column count of new data frame
dim(ndf) 
dim(DF)

```
Removed 834 outliers.


```{r }
ATY = ggplot(ndf, aes(group = factor(Arrest.Year), y = Age, x= Arrest.Year, fill = factor(Arrest.Year))) + 
  geom_boxplot() + 
  geom_boxplot(outlier.shape=8, outlier.size=5) +
  labs(title="Age VS Year", x="Year", y = "Age")
ATY


```
After remove the ourliers, we could clearly see that as year goes up, the minimum age goes up a little bit. The maximum age from this sample goes down. The median is pretty much same compare to different years. 

There are less younger criminals as year passing from 2016 to 2020 based on this sample. Criminal with age from 30 to 35 arrested more than other ages, which also probably means that there are more offenders with age from 30 to 35.


```{r }


```



```{r }

```



```{r }


```



```{r }


```



```{r }


```